/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/core/addModules.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addModules=void 0,t.addModules=e=>{e&&e.forEach((e=>e()))}},"./src/core/modules/index.ts":function(e,t,o){var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,r,n)}:function(e,t,o,r){e[r=void 0===r?o:r]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||r(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(o("./src/core/modules/navigate.ts"),t),n(o("./src/core/modules/localModules.ts"),t)},"./src/core/modules/localModules.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.localModules=void 0,t.localModules=()=>{Array.from(document.querySelectorAll("[data-module]")).forEach((e=>{e.src="./modules/"+e.dataset.module}))}},"./src/core/modules/navigate.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateTo=void 0,t.navigateTo=()=>{document.querySelectorAll("[data-to]").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),window.history.pushState({},"",e.dataset.to),window.dispatchEvent(new PopStateEvent("popstate"))}))}))}},"./src/core/router.ts":function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o=o||Promise)((function(n,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function d(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof o?t:new o((function(e){e(t)}))).then(c,d)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;const r=e=>o(void 0,void 0,void 0,(function*(){return yield(yield fetch(`/views/${e}.html`)).text()}));t.routes=e=>o(void 0,void 0,void 0,(function*(){return Promise.all(e.map((e=>o(void 0,void 0,void 0,(function*(){return{path:e.path,view:yield r(e.view)}})))))}))},"./src/core/scriptContent.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectScript=t.removeScript=void 0;const o=()=>document.getElementById("script-page");t.removeScript=()=>{var e;if(o())try{null!=(e=document.getElementById("app"))&&e.removeChild(o()),document.body.removeChild(o())}catch(e){}},t.injectScript=e=>{(0,t.removeScript)(),(r=document.createElement("div")).innerHTML=e;var r=e=r.querySelector("#script-page");o(),r&&document.body.appendChild(r)}},"./src/index.ts":function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o=o||Promise)((function(n,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function d(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof o?t:new o((function(e){e(t)}))).then(c,d)}a((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o("./src/core/router.ts"),c=o("./src/core/scriptContent.ts"),d=o("./src/core/addModules.ts"),a=o("./src/core/modules/index.ts"),s=n(o("./src/routes.json")),u=document.getElementById("app"),l=()=>r(void 0,void 0,void 0,(function*(){var e=yield(0,i.routes)(s.default);const t=window.location.pathname;var o=e.find((e=>e.path===t));if(!o)return null==u?void 0:u.innerHTML=null==(e=e.find((e=>"/404"===e.path)))?void 0:e.view;u.innerHTML=o.view,(0,c.injectScript)(null==o?void 0:o.view),(0,d.addModules)([a.navigateTo,a.localModules])}));l(),window.addEventListener("popstate",(()=>{l()}))},"./src/routes.json":e=>{e.exports=JSON.parse('[{"path":"/404","view":"404"},{"path":"/about","view":"about"},{"path":"/home","view":"home"},{"path":"/","view":"home"}]')}},t={};!function o(r){var n=t[r];return void 0===n&&(n=t[r]={exports:{}},e[r].call(n.exports,n,n.exports,o)),n.exports}("./src/index.ts")})();